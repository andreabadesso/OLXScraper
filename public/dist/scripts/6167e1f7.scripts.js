"use strict";angular.module("olxprecoApp",["ngCookies","ngResource","ngSanitize","ngRoute","angles"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("olxprecoApp").controller("MainCtrl",["$scope","$http",function(a,b){a.opcoes=[{name:"Últimos 7 dias",id:1},{name:"Últimos 15 dias",id:2},{name:"Últimos 30 dias",id:3}];var c=[];c[1]="7",c[2]="15",c[3]="30",a.buscar=function(){b({method:"GET",url:"http://localhost:3000/ofertas/"+a.nome_produto+"/"+c[a.selecionado.id]}).success(function(b){a.data={labels:_.pluck(b,"data"),datasets:[{fillColor:"rgba(0,118,190,0.1)",strokeColor:"rgba(0,118,190,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#0076BE",data:_.pluck(b,"preco")}]}}).error(function(){})},a.selecionado=a.opcoes[0],a.$watch("selecionado",function(){b({method:"GET",url:"http://localhost:3000/ofertas/"+a.nome_produto+"/"+c[a.selecionado.id]}).success(function(b){a.data={labels:_.pluck(b,"data"),datasets:[{fillColor:"rgba(0,118,190,0.1)",strokeColor:"rgba(0,118,190,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#0076BE",data:_.pluck(b,"preco")}]}}).error(function(){})})}]);